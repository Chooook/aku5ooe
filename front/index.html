<html lang="ru">
<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Конкурс ЛПП</title>
    <link rel="icon" type="image/png" href="logo_cup.png"/>
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <script>
        // Переменные для состояния чекбоксов
        function resizeImage(width) {
            const images = document.querySelectorAll('.img-resize');
            images.forEach(img => {
                img.style.width = width + 'px';
            });
        }

        let checkboxes = Array.from({ length: 30 }, () => [false, false]);

        function updateCheckboxes() {
            checkboxes.forEach((checkbox, index) => {
                document.getElementById(`checkbox${index + 1}_1`).checked = checkbox[0];
                document.getElementById(`checkbox${index + 1}_2`).checked = checkbox[1];
            });
        }

        function handleCheckboxChange(checkbox) {
            const index = parseInt(checkbox.id.match(/\d+/)[0]) - 1;
            const subIndex = checkbox.id.endsWith('1') ? 0 : 1;
            checkboxes[index][subIndex] = checkbox.checked;

            updateCheckboxIcons(checkbox);
            updateCount();
        }

        function updateCheckboxIcons(checkbox) {
            const label = document.querySelector(`label[for="${checkbox.id}"]`);
            if (checkbox.checked) {
                label.classList.add(checkbox.id.endsWith('2') ? 'checked_red' : 'checked');
            } else {
                label.classList.remove('checked');
                label.classList.remove('checked_red');
            }
        }

        function updateCount() {
            let count = countTrue(checkboxes);
            document.getElementById('count').innerText = `${count}`;
            updateButtonState();
        }

        function updateButtonState() {
            const button = document.getElementById('btn-end-vote');
            let count = document.getElementById('count').innerText;
            if (count === "15") {
                button.disabled = false; // Активируем кнопку
                button.title = ""; // Убираем подсказку, когда кнопка активна
            } else {
                button.disabled = true; // Деактивируем кнопку
                button.title = "Счетчик должен быть равен 15, чтобы активировать кнопку."; // Устанавливаем подсказку
            }
        }
        // document.getElementById('btn-end-vote').addEventListener('click', function() {
        //     this.style.opacity = '1'; // Изменяем прозрачность при нажатии
        // });

        // Функция для подсчета количества true
        function countTrue(checkboxes) {
            let count = 0;
            checkboxes.forEach(pair => {
                if (pair[0] === true) {
                        count++;
                    }
                });
            return count;
        }

        function showContent(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            document.getElementById(sectionId).style.display = 'block';
        }

        window.onload = function() {
            updateCheckboxes(); // Устанавливаем состояние чекбоксов при загрузке страницы
            updateCount(); // Устанавливаем счетчик
            showContent('content1'); // Показываем первую секцию контента по умолчанию
        };
    </script>
</head>
<body>
<header class="bg fixed-top" id="header">
    <img src="contest_name_1.png" alt="logo" height="40px" style="margin-left: 10px">
    <button id="btn-end-vote" class="btn btn-custom" title="Необходимо 15 положительных голосов" disabled>
        Завершить голосование
    </button>
    <div class="counter" style="margin-right: 50px; margin-top: 5px">
        <i class="fas fa-heart"></i>
        <span id="count">0</span>
    </div>
</header>

<div style="margin-top: 80px">

    <div class="sidebar p-3" id="left-sidebar">
        <script>
            const participants = [
                "Батарчук Егор",
                "Бахтияров Ильнар",
                "Булатова Анастасия",
                "Брохарина Елена",
                "Ротман Андрей",
                "Батарчук Егор",
                "Бахтияров Ильнар",
                "Булатова Анастасия",
                "Брохарина Елена",
                "Ротман Андрей",
                "Батарчук Егор",
                "Бахтияров Ильнар",
                "Булатова Анастасия",
                "Брохарина Елена",
                "Ротман Андрей",
                "Батарчук Егор",
                "Бахтияров Ильнар",
                "Булатова Анастасия",
                "Брохарина Елена",
                "Ротман Андрей",
                "Батарчук Егор",
                "Бахтияров Ильнар",
                "Булатова Анастасия",
                "Брохарина Елена",
                "Ротман Андрей",
                "Батарчук Егор",
                "Бахтияров Ильнар",
                "Булатова Анастасия",
                "Брохарина Елена",
                "Ротман Андрей",
            ];
            function createMenuItems() {
                let sidebar = document.getElementById('left-sidebar');
                participants.forEach ( function( participant, index ) {

                    let newItem = document.createElement('div');
                    newItem.className = 'menu-item';

                    let newButton = document.createElement('button');
                    newButton.className = 'btn btn-light btn-custom';
                    newButton.textContent = participant;
                    newButton.id = 'participant' + (index + 1);
                    newButton.onclick = function() {
                        showContent('content' + (index + 1) );
                    }
                    newItem.appendChild(newButton);

                    <!-- Создание блока с сердцем -->
                    let newForm = document.createElement('div');
                    newForm.className = 'form-check';
                    // newButton.appendChild(newForm);
                    newItem.appendChild(newForm);

                    let newInput = document.createElement('input');
                    newInput.className = 'form-check-input';
                    newInput.type = 'checkbox';
                    newInput.id = 'checkbox' + (index + 1) + "_1";
                    newInput.onchange = function() {
                        handleCheckboxChange(newInput);
                    }
                    newForm.appendChild(newInput);

                    let newLabel = document.createElement('label');
                    newLabel.className = 'form-check-label';
                    newLabel.htmlFor = 'checkbox' + (index + 1) + "_1";
                    newForm.appendChild(newLabel);

                    let newI = document.createElement('i');
                    newI.className = 'fas fa-heart';
                    newLabel.appendChild(newI);

                    <!-- Создание блока с крестом -->
                    let newForm2 = document.createElement('div');
                    newForm2.className = 'form-check';
                    // newButton.appendChild(newForm2);
                    newItem.appendChild(newForm2);

                    let newInput2 = document.createElement('input');
                    newInput2.className = 'form-check-input';
                    newInput2.type = 'checkbox';
                    newInput2.id = 'checkbox' + (index + 1) + "_2";
                    newInput2.onchange = function() {
                        handleCheckboxChange(newInput2);
                    }
                    newForm2.appendChild(newInput2);

                    let newLabel2 = document.createElement('label');
                    newLabel2.className = 'form-check-label';
                    newLabel2.htmlFor = 'checkbox' + (index + 1) + "_2";
                    newForm2.appendChild(newLabel2);

                    let newI2 = document.createElement('i');
                    newI2.className = 'fas fa-times-circle';
                    newLabel2.appendChild(newI2);

                    sidebar.appendChild(newItem);
                });
            }
            createMenuItems();
        </script>
    </div>

    <div class="sidebar p-3 d-flex" id="right-sidebar">
        <div align="center">
            <img src="logo_cup.png" alt="" style="margin-top: 50px">
            <p style="text-align: center; font-size: 24px; margin-top: 20px; font-weight: bold">Фамилия Имя</p>
        </div>
        <div style="top: 0;">
            <p style="text-align: center">Размер документа</p>
            <input class="form-range" type="range" id="slider" min="900" max="2000" value="1000"
                   oninput="resizeImage(this.value)">
        </div>
    </div>

    <div align="center">
        <div id="content1" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content2" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content3" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content4" class="content-section">

            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content5" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content6" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content7" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content8" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content9" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content10" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content11" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content12" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content13" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content14" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content15" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content16" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content17" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content18" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content19" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content20" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content21" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content22" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content23" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content24" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content25" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content26" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content27" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content28" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content29" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
        <div id="content30" class="content-section">
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
            <br>
            <img class="img-resize" src="qr-code.png" alt="">
        </div>
    </div>

</div>

<script src="bootstrap.bundle.min.js"></script>
</body>
</html>
